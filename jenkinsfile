pipeline {
  agent any
  parameters {
    booleanParam(name: 'RUN_TESTS', defaultValue: true, description: 'Run tests?')
  }
  stages {
    stage('Build') { steps { echo 'Building..' } }
    stage('Test') {
      when {
        expression { return params.RUN_TESTS == true }
      }
      steps {
        echo 'Testing..'
      }
    }
    stage('Deploy') { steps { echo 'Deploying..' } }
  }
}
